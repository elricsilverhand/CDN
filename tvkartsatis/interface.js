function quickview(e){var t=e;$(this);$.ajax({url:"../index/quickview/",method:"POST",data:{id:t},success:function(e){$("#quick-view-tpl").html(e),$(".quickview").removeClass("loading")}})}function loadmore(){var e=document.getElementById("result_no").value;$.ajax({type:"post",url:"../index/loadmore/",data:{rec:e},success:function(t){var s=document.getElementById("productslist");s.innerHTML=s.innerHTML+t,document.getElementById("result_no").value=Number(e)+12}}),$(".loadmorearea").css("display","none")}function loadmorekategori(e){var t=document.getElementById("result_no").value;e=e;$.ajax({type:"post",url:"../index/loadmorekategori/",data:{rec:t,dataid:e},success:function(e){var s=document.getElementById("productslist");s.innerHTML=s.innerHTML+e,document.getElementById("result_no").value=Number(t)+12}}),$(".loadmorearea").css("display","none")}function loadmoremarka(e){var t=document.getElementById("result_no").value;e=e;$.ajax({type:"post",url:"../index/loadmoremarka/",data:{rec:t,dataid:e},success:function(e){var s=document.getElementById("productslist");s.innerHTML=s.innerHTML+e,document.getElementById("result_no").value=Number(t)+12}}),$(".loadmorearea").css("display","none")}!function(e){"use strict";const t=e("body"),s=e(window),a=t.hasClass("rtl"),n=(e("#ld_cl_bar"),s.width()),i=n<768,l=e(".mask-overlay"),o=e("html"),r=Modernizr.touchevents;let c=null,d=e(".nt_js_cart");t.addClass("kalles-ready");let p=e=>({ACDT:"+1030",ACST:"+0930",ADT:"-0300",AEDT:"+1100",AEST:"+1000",AHDT:"-0900",AHST:"-1000",AST:"-0400",AT:"-0200",AWDT:"+0900",AWST:"+0800",BAT:"+0300",BDST:"+0200",BET:"-1100",BST:"-0300",BT:"+0300",BZT2:"-0300",CADT:"+1030",CAST:"+0930",CAT:"-1000",CCT:"+0800",CDT:"-0500",CED:"+0200",CET:"+0100",CEST:"+0200",CST:"-0600",EAST:"+1000",EDT:"-0400",EED:"+0300",EET:"+0200",EEST:"+0300",EST:"-0500",FST:"+0200",FWT:"+0100",GMT:"GMT",GST:"+1000",HDT:"-0900",HST:"-1000",IDLE:"+1200",IDLW:"-1200",IST:"+0530",IT:"+0330",JST:"+0900",JT:"+0700",MDT:"-0600",MED:"+0200",MET:"+0100",MEST:"+0200",MEWT:"+0100",MST:"-0700",MT:"+0800",NDT:"-0230",NFT:"-0330",NT:"-1100",NST:"+0630",NZ:"+1100",NZST:"+1200",NZDT:"+1300",NZT:"+1200",PDT:"-0700",PST:"-0800",ROK:"+0900",SAD:"+1000",SAST:"+0900",SAT:"+0900",SDT:"+1000",SST:"+0200",SWT:"+0100",USZ3:"+0400",USZ4:"+0500",USZ5:"+0600",USZ6:"+0700",UT:"-0000",UTC:"-0000",UZ10:"+1100",WAT:"-0100",WET:"-0000",WST:"+0800",YDT:"-0800",YST:"-0900",ZP4:"+0400",ZP5:"+0500",ZP6:"+0600"})[e]||"UTC",_=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,u=e=>e instanceof Date&&!isNaN(e);if(e.fn.kallesRefresh_flickity=function(){return e(this).flickity(JSON.parse(e(this).attr("data-flickity")||e(this).attr("data-flickityjs")||"{}")),e(this)},e.fn.kallesFlickityResponsive=function(t){if(void 0!==e.fn.flickity){let s=e(this);t&&s.find(".swatch__list_js.lazyloaded").each(function(){s.flickity("resize")}),s.find(".swatch__list_js").on("lazyincluded",function(e){s.flickity("resize")})}},e.fn.hTransparent=function(){let s=e(this),a="h_banner_"+s.find(".h__banner").attr("data-ver");if("closed"===Cookies.get(a))return;t.removeClass("h_calc_ready"),s.css("height","");let n=s.outerHeight();t.addClass("h_calc_ready"),s.css({height:0}),setTimeout(function(){s.css({height:n})},8),setTimeout(function(){s.css({height:"auto"})},800),s.on("click",".h_banner_close",function(e){e.preventDefault();let t=s.outerHeight();s.css({height:t}),setTimeout(function(){s.css({height:0})},8);let n=parseInt(s.find(".h__banner").attr("data-date"),10);n&&Cookies.set(a,"closed",{expires:n,path:"/"})})},e.fn.bannerCountdown=function(){e(this).each(function(){e(this).countdown(e(this).data("date"),function(t){e(this).html(t.strftime("%D days %H:%M:%S"))})})},e.fn.openMenu=function(s){e(this).addClass("act_current"),o.addClass("hside_opened"),t.addClass("pside_opened"),s.addClass("act_opened"),l.addClass("mask_opened")},e.fn.closeMenu=function(){e(".push_side.act_current").removeClass("act_current"),o.removeClass("hside_opened"),t.removeClass("pside_opened"),e(".nt_fk_canvas.act_opened,.nt_fk_full.act_opened").removeClass("act_opened"),l.removeClass("mask_opened")},e.fn.kallesFlashSold=function(){e(this).length&&e(this).each(function(){const t=e(this),s=t.data("mins")||5,a=t.data("maxs")||25,n=t.data("mint")||3,i=t.data("maxt")||24;t.find(".nt_pr_sold").html(_(s,a)),t.find(".nt_pr_hrs").html(_(n,i)),t.show()})},e.fn.kallesAnimation=function(){e(this).each(function(){let t=e(this),s=t.data("ani"),a=t.data("time")||"5000";if(s&&"none"!==s){s=`animated ${s}`;const e=parseInt(a,10),n=1e3;setInterval(()=>{t.addClass(s),setTimeout(()=>t.removeClass(s),n)},e)}})},e.fn.initCountdown_pr=function(){e(this).each(function(){let t=e(this),s=t.attr("id")||"nt_countdow_ppr",a=e(s+"_txt"),n=new Date,i=t.data("time"),l="",o=i.split(","),r=n.getFullYear()+"/"+("0"+(n.getMonth()+1)).slice(-2)+"/"+("0"+n.getDate()).slice(-2),c=n.getFullYear()+("0"+(n.getMonth()+1)).slice(-2)+("0"+n.getDate()).slice(-2),d=("0"+n.getHours()).slice(-2)+("0"+n.getMinutes()).slice(-2)+("0"+n.getSeconds()).slice(-2),_=t.data("timezone"),h=t.data("loop"),f=o.length;if(t.hasClass("nt_loop")){let e,s=_?t.data("shoph"):d,a=_?t.data("shopt"):r,n=_?t.data("zone"):"",i=!1,c=o.length;for(e=0;e<c;e++){if(parseInt(o[e].replace(/:/g,""),10)>=parseInt(s,10)){l=o[e].replace("24:00:00","23:59:59");break}e===f-1&&(i=!0,l=o[e].replace("24:00:00","23:59:59"))}if(r=a+" "+l+" "+n,u(new Date(r))||(r=a+" "+l+" "+(n=p(n))),h&&i){r=getToday(1,11,a+" "+n)+" "+l+" "+n}}else{let e,s="",a=_?t.data("shopt"):c+d,n=(t.data("timej")+"").split(","),i=o.length;for(e=0;e<i;e++)if(parseInt(n[e],10)>parseInt(a.toString().slice(0,n[e].length),10)){s=o[e].replace("24:00:00","23:59:59"),_&&(s=s+" "+t.data("zone"));break}if(r=s,!u(new Date(r))){const e=p(e);r=a+" "+l+" "+e}}i=new Date(r);const m=a.find(".day").text(),v=a.find(".hr").text(),w=a.find(".min").text(),g=a.find(".sec").text();t.countdown(i,{elapse:!0}).on("update.countdown",function(e){e.elapsed?(t.html(""),a.hide()):(a.find(".mess_cd").show(),t.html(e.strftime('<div class="block tc"><span class="flip-top">%-D</span><br><span class="label tu">'+m+'</span></div><div class="block tc"><span class="flip-top">%H</span><br><span class="label tu">'+v+'</span></div><div class="block tc"><span class="flip-top">%M</span><br><span class="label tu">'+w+'</span></div><div class="block tc"><span class="flip-top">%S</span><br><span class="label tu">'+g+"</span></div>")))})})},e.fn.initCountdown=function(){e(this).each(function(){const t=e(this);t.countdown(t.data("date"),{elapse:!0}).on("update.countdown",function(e){e.elapsed?t.closest(".pr_deal_dt").html("").addClass("expired_cdt4"):t.html(e.strftime("%D Days %H:%M:%S"))}).addClass("done_cd").closest(".pr_deal_dt").addClass("donetmcd")})},e.fn.initSeCountdown=function(){e(this).each(function(){const t=e(this);t.countdown(t.data("date"),function(e){const s=[];s.push('<span class="countdown-days">%-D <span>days</span></span>'),s.push('<span class="countdown-hours">%H <span>hr</span></span>'),s.push('<span class="countdown-min">%M <span>min</span></span>'),s.push('<span class="countdown-sec">%S <span>sc</span></span>'),t.html(e.strftime(s.join(" ")))}).addClass("done_cd").closest(".sepr_deal_dt").addClass("donetmcd")})},e.fn.catTabs=function(){e(this).click(function(t){t.preventDefault();const s=e(this),a=s.data("bid"),n=s.closest(".kalles-section"),i=n.find(".tab_se_header .tt_active"),l=n.find(".tab_se_content .ct_active"),o=e("#"+a),r=o.find(".js_carousel");i.removeClass("tt_active"),s.addClass("tt_active"),l.removeClass("ct_active"),o.addClass("ct_active"),0!==r.length&&r.flickity("resize")})},e.fn.linkTrigger=function(){e(this).click(function(t){t.preventDefault(),e(e(this).data("trigger")).trigger("click")})},e.fn.linkAcc=function(){e(this).on("click",".link_acc",function(t){t.preventDefault(),e("#nt_login_canvas .is_selected").removeClass("is_selected"),e(e(this).data("id")).addClass("is_selected")})},e.fn.kallesInitMegaMenu=function(){e(window).width()>767&&e(this).each(function(){let s=e(this),n=e(window),i=t.hasClass("des_header_7"),l=(e("#nt_menu_id").find(" > li.menu_has_offsets"),n.width()),o=e("#nt_wrapper"),r=o.outerWidth()+o.offset().left,c=t.hasClass("wrapper-boxed")||t.hasClass("wrapper-boxed-small")?r:l,d=s.find(" > .sub-menu");if(d.addClass("calc_pos").attr("style",""),i){let e=d.offset().top+d.outerHeight(),t=n.scrollTop()+n.outerHeight();e>t&&d.css({top:t-e-10})}if(i)return;let p=d.outerWidth(),_=d.offset(),u=s.hasClass("menu_wid_full")?0:10;if(!p||!_)return;let h=l-_.left-p;if(p>=0&&s.hasClass("menu_center")){let e=_.left+p/2-l/2;a?d.css({right:e}):d.css({left:-e})}else if(a&&(h+p>=c||s.hasClass("menu_wid_full"))&&s.hasClass("menu_has_offsets")){var f=h+p-c;d.css({right:-f-u})}else if((_.left+p>=c||s.hasClass("menu_wid_full"))&&s.hasClass("menu_has_offsets")){var m=_.left+p-c;d.css({left:-m-u})}})},e.fn.kallesLazyMenu=function(){e(this).length&&e(this).each(function(){e(this).closest("li.menu_has_offsets").kallesInitMegaMenu()})},e.fn.kallesMobileNav=function(){let t=function(e){e.hasClass("nt_opended")?e.removeClass("nt_opended").children("ul").slideUp(200):e.addClass("nt_opended").children("ul").slideDown(200)};e(this).on("click",".menu-item-has-children.only_icon_false>a",function(s){s.preventDefault(),s.stopPropagation(),t(e(this).parent())}),e(this).on("click",".menu-item-has-children .nav_link_icon",function(s){s.preventDefault(),s.stopPropagation(),t(e(this).parent().parent())}),e(this).on("click",".mb_nav_tabs>div",function(){if(e(this).hasClass("active"))return;let t=e(this),s=t.data("id");t.parent().find(".active").removeClass("active"),t.addClass("active"),e(".mb_nav_tab").removeClass("active"),e(s).addClass("active")})},e.fn.kallesBackToTop=function(){let t=null,s=e(this);e(window).scroll(function(){t&&window.clearTimeout(t),t=window.setTimeout(function(){e(this).scrollTop()>100?s.addClass("bkt_show"):s.removeClass("bkt_show")},40)}),s.on("click",function(){return e("html, body").animate({scrollTop:0},800),!1})},e.fn.initStickyMenu=function(){if(t.hasClass("header_sticky_false")||t.hasClass("des_header_7")&&n>1400)return;let a=e("#ntheader"),i=!1,l=!0,o=window.pageYOffset,r=t.hasClass("hide_scrolld_true"),c=a.outerHeight(),d=c,p="#kalles-section-header_banner";function _(){l=!0,a.removeClass("sticky_prepared").css("height",""),c<a.outerHeight()&&(c=a.outerHeight()),t.hasClass("des_header_7")&&e(window).width()>1024||(l=!1,a.addClass("sticky_prepared").css({height:c}),e(p).length>0&&(d+=e(p).outerHeight()))}_(),s.on("resize",function(){_()}),s.on("scroll",function(){if(!l){var t=e(window).scrollTop();if(t>d?function(){if(i)return;i=!0,a.addClass("live_stuck"),a.on("animationend webkitAnimationEnd oAnimationEnd",function(){a.addClass("ani_none")})}():function(){if(!i)return;i=!1,a.addClass("trs_stuck").removeClass("live_stuck h_scroll_down"),a.removeClass("ani_none trs_stuck")}(),r){var s=window.pageYOffset;o>s&&t>d?a.addClass("h_scroll_up").removeClass("h_scroll_down"):t<=d?a.removeClass("h_scroll_down h_scroll_up"):a.addClass("h_scroll_down").removeClass("h_scroll_up"),o=s}}})},e.fn.swatchesOnBGGrid=function(){const t=e(this);let s=t.data("bgset"),a=(t.data("pd"),t.data("id")),n=t.data("vid"),i=t.parents(".nt_pr"),l=i.find(".main-img"),o=i.find(".product-title>a").attr("href");t.parents(".swatch__list_js").find(".current-swatch").removeClass("current-swatch"),t.addClass("current-swatch"),i.addClass("nt-swatched"),t.hasClass("loaded_swatch")?l.addClass("hide_ic_lz"):l.removeClass("hide_ic_lz"),t.addClass("loaded_swatch"),l.attr("data-bgset",s).attr("data-id",a),i.find("a").attr("href",o.split("?variant=")[0]+"?variant="+n),i.find(".nt_add_qv").attr("data-id",n)},e.fn.initHTMLVideo=function(){e(this).length>0&&Modernizr&&Modernizr.video&&e(this).each(function(){let t=e(this),s=t.parent().find(".img_vid_js");t.addClass("lazyload"),t.on("lazyloaded",function(){t[0].play(),t.addClass("vid_ready"),s.addClass("lazyload")}),t.on("playing",function(){s.remove()})})},e.fn.parallax=function(){if(e(this).length>0){function t(t){var s=t||e(".nt_parallax_true.lazyloaded:not(.js_ralax_doned)");s.addClass("js_ralax_doned").jarallax({speed:s.attr("data-speed")||.8})}t(),e(".nt_parallax_true:not(.lazyloaded)").one("lazyloaded",function(e){setTimeout(function(){t()},200)})}},e.fn.newsletterPopup=function(){e(this).length&&e(this).each(function(){var t=e(this),s=t.data("stt"),a=!1,n=Cookies.get("kalles_shown_pages"),i=function(){e.magnificPopup.open({items:{src:"#kalles-section-newsletter_pp .popup_new_wrap"},type:"inline",removalDelay:500,tClose:"Close (Esc)",callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-horizontal new_pp_wrapper"},open:function(){},close:function(){Cookies.set("kalles_popup","shown",{expires:s.day_next,path:"/"})}}})},l=function(){e.magnificPopup.instance.isOpen?(e.magnificPopup.close(),setTimeout(function(){i()},e.magnificPopup.instance.st.removalDelay+10)):i()};if(e(".kalles_open_newsletter").on("click",function(e){e.preventDefault(),l()}),t.on("open_newsletter",function(){l()}),n||(n=0),n<s.number_pages)return n++,Cookies.set("kalles_shown_pages",n,{expires:s.day_next,path:"/"}),!1;"shown"!==Cookies.get("kalles_popup")&&("scroll"===s.after?e(window).scroll(function(){if(a)return!1;e(document).scrollTop()>=s.scroll_delay&&(l(),a=!0)}):setTimeout(function(){l()},s.time_delay))})},e.fn.kallesSwatches=function(){e(this).length&&t.on("click",".swatch_pr_item:not(.is-selected)",function(s){s.preventDefault();let a=e(this);if(a.addClass("is-selected").siblings().removeClass("is-selected"),a.data("escape")&&a.closest(".kalles_swatch_js").find(".user_choose_js,.nt_name_current").text(a.data("escape")),a.data("index")){const e=a.closest(".kalles-section").find(".col_thumb .pr_carousel").first();e&&e.flickity().flickity("select",a.data("index"))}if(a.data("filter")){let s=a.closest(".container_cat").find(".p-thumb"),n=a.closest(".container_cat").find(".p-nav"),l=a.data("filter"),o=[];if(s.length&&Array.isArray(l)){s.data("flickity");l.forEach(e=>{o.push(`<div class="${e.class}" data-mdid="${e.mdid}" data-height="${e.height}" data-width="${e.width}" data-ratio="${e.ratio}" data-mdtype="${e.mdtype}" data-src="${e.src}" data-bgset="${e.bgset}" data-cap="${e.cap}"></div>`)}),s.flickity("destroy").empty().append(o.join("")).kallesRefresh_flickity(),n.length&&n.flickity("destroy").empty(),setTimeout(()=>e(".kalles_product_thumnb_slide").kallesSingleProductThumbnail(),100),e(".p-thumb.only_owl_mb").kallesProductIsotope(!i),e("[data-featured-product-se]").kallesInitFeaturedProduct(),e(".pr_sticky_content").kallesStickySingleProductDetail(!i&&t.hasClass("single-product-template")),e(".sp-single").kallesButtonShowGallery()}}})},e.fn.KallesAgeVerify=function(){if(e(this).length&&"confirmed"!==Cookies.get("kalles_age_verify")){let s=function(){e.magnificPopup.open({items:{src:"#kalles-section-age_verify .popup_age_wrap"},type:"inline",closeOnBgClick:!1,closeBtnInside:!1,showCloseBtn:!1,enableEscapeKey:!1,removalDelay:500,tClose:"Close (Esc)",callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-horizontal age_pp_wrapper"}}})};s(),e(this).on("open_age_pp",function(){s()}),t.on("click",".age_verify_allowed",function(t){t.preventDefault();let s=e(this).closest(".popup_age_wrap"),a=s&&s.data("stt")?s.data("stt"):{day_next:30,date_of_birth:!0,age_limit:18},n=a&&a.age_limit?a.age_limit:18,i=!a||!a.date_of_birth||a.date_of_birth,l=a&&a.day_next?a.day_next:30;if(i){let t=parseInt(e("#ageyear").val(),10),a=parseInt(e("#agemonth").val(),10),i=parseInt(e("#ageday").val(),10),o=new Date(t+n,a,i);(new Date).getTime()-o.getTime()<0?(s.addClass("animated shake"),window.setTimeout(function(){s.removeClass("animated shake")},1e3)):(Cookies.set("kalles_age_verify","confirmed",{expires:parseInt(l,10),path:"/"}),e.magnificPopup.close())}else Cookies.set("kalles_age_verify","confirmed",{expires:parseInt(l,10),path:"/"}),e.magnificPopup.close()}),t.on("click",".age_verify_forbidden",function(t){t.preventDefault(),e(this).closest(".popup_age_wrap").addClass("active_forbidden")})}},e.fn.cookiesLawAnnouncements=function(){e(this).length&&"accepted"!==Cookies.get("tvkartsatis_cookies")?e(this).each(function(){var t=e(this),s=t.parent(),a=t.data("stt"),n=function(){s.removeClass("pp_onhide").addClass("pp_onshow"),t.on("click",".pp_cookies_accept_btn",function(e){e.preventDefault(),s.removeClass("pp_onshow").addClass("pp_onhide"),Cookies.set("tvkartsatis_cookies","accepted",{expires:a.day_next,path:"/"})})};setTimeout(function(){n()},2500),t.on("open_cookies_pp",function(){n()})}):e(this).parent().removeClass("pp_onshow").addClass("pp_onhide")},e.fn.kallesDisableNavSlider=function(){e(this).length&&e(this).each(function(){const t=e(this).data("flickity");if(t){const s=t.selectedCells?t.selectedCells.length:null,a=t.cells?t.cells.length:null;s&&a&&s===a?e(this).addClass("flickity_prev_disable flickity_next_disable"):e(this).removeClass("flickity_prev_disable flickity_next_disable")}})},e.fn.kallesSingleProductThumbnail=function(){if(e(this).length){let t=e(".p_group_btns");e(this).each(function(){let s=e(this).find(".p-nav"),a=e(this).find(".p-thumb"),n=e(".thumb_left").length>0||e(".thumb_right").length>0?"col-lg-12 ":"",i=e(".col_nav"),l=a.find("[data-pr-md-tp-model]").length>0||a.find("[data-pr-md-tp-video]").length>0;a.each(function(t){!function(t,s,a){let n=[],i=e(".p-nav.ratio_imgtrue").length>0;t.find(".p-item:not(.is_varhide)").each(function(){let t=e(this),s=t.data("bgset"),l=t.data("mdtype"),o=t.data("mdid"),r=t.data("ratio"),c="",d="hide";"video"===l?d="las la-play":"external_video"===l?d="lab la-youtube":"model"===l&&(d="las la-cube"),i&&(c=' style="padding-top:'+1/r*100+'%"'),n.push('<div class="'+a+'col-3 n-item" data-mdid="'+o+'" data-mdtype="'+l+'"><span class="nt_bg_lz lazyload" data-bgset="'+s+'"'+c+'><i class="'+d+'"></i></span></div>')}),s.empty().append(n.join("")),s.kallesRefresh_flickity(),s.addClass("p-nav-ready")}(e(this),1===s.length?s:s.eq(t),n)}),l&&a.on("select.flickity",function(s,n){let i=a.find(".is-selected"),l=i.data("mdtype");e(".p-thumb [data-pr-md-tp-video] , .p-thumb [data-pr-md-tp-model]").trigger("mediaHidden"),t.removeClass("nt_hide nt_hide_2"),["video","external_video","model"].includes(l)&&("model"===l?(t.addClass("nt_hide_2"),i.find("[data-pr-md-tp-model]").trigger("mediaVisible")):(t.addClass("nt_hide"),i.find("[data-pr-md-tp-video]").trigger("mediaVisible")))}),i.find(".btn_pnav_next, .btn_pnav_prev").off("click").on("click",function(t){let a=e(this),n=s.find(".flickity-slider").height(),i=s.height(),l=n/s.find(".n-item").length,o=s.scrollTop();if(a.hasClass("btn_pnav_prev")&&o<=0||a.hasClass("btn_pnav_next")&&o>=n-i)return;let r=a.hasClass("btn_pnav_next")?o+l+40:o-l-40;s.stop().animate({scrollTop:r},400)})})}},e.fn.kallesInitFeaturedProduct=function(){let t=e(this).find("[data-pr-md-tp-video],[data-pr-md-tp-model]");if(t.length){const s=function(e){let t=e.tagName?e.tagName.toLocaleLowerCase():"",s="video"===t?"html5":null;return"iframe"===t&&e.src&&/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e.src)&&(s="youtube"),s},a={tagId:"youtube-sdk",src:"https://www.youtube.com/iframe_api",loaded:!1},n=function(){return a.loaded?Promise.resolve():new Promise(e=>{let t=document.createElement("script"),s=document.getElementsByTagName("script")[0];t.src=a.src,t.id=a.tagId,t.addEventListener("load",function(){a.loaded=!0,e()}),s.parentNode.insertBefore(t,s)})},i=function(e,t){e&&e.options&&e.options.draggable!==t&&(e.options.draggable=t,e.updateDraggable())},l=function(t){let s=t.container.closest(".p-thumb");if("html5"===t.host)t.player=new Plyr(t.element,{controls:["play","progress","mute","volume","play-large","fullscreen"],loop:{active:t.enableLooping},hideControlsOnPause:!0,clickToPlay:!0,iconUrl:"assets/images/plyr.svg",tooltips:{controls:!1,seek:!0}}),s.length&&s.hasClass("is-draggable")&&(t.player.on("play",function(){i(s.data("flickity"),!1)}),t.player.on("pause",function(){i(s.data("flickity"),">1")}));else if("youtube"===t.host)window.hasOwnProperty("YT")&&t.container.data("video-id")&&window.YT.ready(function(){t.player=new YT.Player(t.element,{videoId:t.container.data("video-id"),events:{onStateChange:function(e){0===e.data&&enableLooping&&e.target.seekTo(0)}}})});else if("model"===t.host){let s=e("<div>",{class:"kalles-model-viewer-ui kalles-model-viewer-ui--desktop"}),a=[];a.push('<div class="kalles-model-viewer-ui__controls-overlay">'),a.push('<button class="kalles-model-viewer-ui__button kalles-model-viewer-ui__button--poster" aria-label="Play 3D Viewer"> <svg class="kalles-model-viewer-ui__poster-control-icon" viewBox="0 0 60 60"> <path fill="none" d="M0 0h60v60H0z"></path> <path fill="currentColor" d="M40.4 22.57l-8.8-5.14a3.19 3.19 0 00-3.21 0l-8.8 5.14A3.24 3.24 0 0018 25.36v10.28a3.23 3.23 0 001.6 2.79l8.8 5.14a3.2 3.2 0 003.21 0l8.8-5.14A3.23 3.23 0 0042 35.64V25.36a3.24 3.24 0 00-1.6-2.79zM20.6 36.7a1.23 1.23 0 01-.6-1.06V25.36a1.23 1.23 0 01.6-1.06l8.8-5.14a1.19 1.19 0 011.19 0l8.8 5.14a1.2 1.2 0 01.36.34l-9.51 4.89a2.23 2.23 0 00-1.25 2V41.6z"></path> </svg> </button>'),a.push('<div class="kalles-model-viewer-ui__controls-area">'),a.push('<button class="kalles-model-viewer-ui__button kalles-model-viewer-ui__button--control kalles-model-viewer-ui__button--zoom-in d-none" aria-label="Zoom In"> <svg focusable="false" class="kalles-model-viewer-ui__control-icon" viewBox="0 0 44 44"> <path stroke-opacity=".25" stroke-width="8" stroke="inherit" fill="currentColor" d="M23 15a1 1 0 10-2 0v6h-6a1 1 0 100 2h6v6a1 1 0 102 0v-6h6a1 1 0 100-2h-6v-6z" clip-rule="evenodd" fill-rule="evenodd"></path> </svg> </button>'),a.push('<button class="kalles-model-viewer-ui__button kalles-model-viewer-ui__button--control kalles-model-viewer-ui__button--zoom-out d-none" aria-label="Zoom Out"> <svg focusable="false" class="kalles-model-viewer-ui__control-icon" viewBox="0 0 44 44"> <path stroke-opacity=".25" stroke-width="8" stroke="inherit" fill="currentColor" d="M14 22a1 1 0 011-1h14a1 1 0 110 2H15a1 1 0 01-1-1z" clip-rule="evenodd" fill-rule="evenodd"></path> </svg> </button>'),a.push('<button class="kalles-model-viewer-ui__button kalles-model-viewer-ui__button--control kalles-model-viewer-ui__button--fullscreen" aria-label="Enter Fullscreen"> <svg focusable="false" class="kalles-model-viewer-ui__control-icon kalles-model-viewer-ui__control-icon--enter-fullscreen" viewBox="0 0 44 44"> <path stroke-width="8" stroke-opacity=".25" stroke="inherit" d="M19 14h-4a1 1 0 00-1 1v4a1 1 0 102 0v-3h3a1 1 0 100-2zm0 14h-3v-3a1 1 0 10-2 0v4a1 1 0 001 1h4a1 1 0 100-2zm10-4a1 1 0 00-1 1v3h-3a1 1 0 100 2h4a1 1 0 001-1v-4a1 1 0 00-1-1zm0-10h-4a1 1 0 100 2h3v3a1 1 0 102 0v-4a1 1 0 00-1-1z" fill="currentColor"></path> </svg> <svg focusable="false" class="kalles-model-viewer-ui__control-icon kalles-model-viewer-ui__control-icon--exit-fullscreen" viewBox="0 0 44 44"> <g stroke-width="8" stroke-opacity=".25" stroke="inherit" fill="currentColor"> <path d="M25 20h4a1 1 0 100-2h-3v-3a1 1 0 10-2 0v4a1 1 0 001 1zM19 24h-4a1 1 0 100 2h3v3a1 1 0 102 0v-4a1 1 0 00-1-1zM29 24h-4a1 1 0 00-1 1v4a1 1 0 102 0v-3h3a1 1 0 100-2zM19 14a1 1 0 00-1 1v3h-3a1 1 0 100 2h4a1 1 0 001-1v-4a1 1 0 00-1-1z"></path> </g> </svg> </button>'),a.push("</div>"),a.push("</div>"),s.append(t.element).append(a.join("")),t.container.html("").append(s),t.element.addEventListener("load",function(){t.container.find(".kalles-model-viewer-ui__button--poster").addClass("d-none"),t.container.find(".kalles-model-viewer-ui__controls-area").addClass("kalles-model-viewer-ui__controls-area--playing"),e(this).find("#userInput").css("outline","none !important").addClass("logagasd")}),t.container.on("click",".kalles-model-viewer-ui__button--poster",function(e){e.preventDefault(),t.element.setAttribute("src",t.element.getAttribute("data-src"))}),t.container.on("click",".kalles-model-viewer-ui__button--fullscreen",function(t){t.preventDefault(),t.stopPropagation(),e(this).attr("modelFullScreen")&&"off"!==e(this).attr("modelFullScreen")?(e(this).attr("modelFullScreen","off"),document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()):(e(this).attr("modelFullScreen","on"),s[0].requestFullscreen?s[0].requestFullscreen().then(()=>setTimeout(()=>s.addClass("kalles-model-viewer-ui--fullscreen"),100)):s[0].webkitRequestFullscreen?s[0].webkitRequestFullscreen().then(()=>setTimeout(()=>s.addClass("kalles-model-viewer-ui--fullscreen"),100)):s[0].msRequestFullscreen&&s[0].msRequestFullscreen().then(()=>setTimeout(()=>s.addClass("kalles-model-viewer-ui--fullscreen"),100)))}),e(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(e){s.removeClass("kalles-model-viewer-ui--fullscreen")})}t.container.on("mediaHidden xrLaunch",function(){if("html5"===t.host&&t.player)t.player.pause();else if("model"===t.host){const e=JSON.parse(s.attr("data-flickity"));e.hasOwnProperty("draggable")&&">1"===e.draggable&&i(s.data("flickity"),">1")}else"youtube"===t.host&&t.player&&t.player.pauseVideo&&t.player.pauseVideo()}),t.container.on("mediaVisible",function(){r||("html5"===t.host&&t.player?t.player.play():"model"===t.host?(i(s.data("flickity"),!1),t.element.getAttribute("src")||setTimeout(()=>{t.element.setAttribute("src",t.element.getAttribute("data-src"))},100)):"youtube"===t.host&&t.player&&t.player.playVideo())})};t.each(function(){let t=e(this),a=t.find("iframe, video , model-viewer")[0],i=t[0].hasAttribute("data-pr-md-tp-video"),o={enableLooping:t.data("looping"),element:a,sectionId:t.data("id"),container:t,host:i?s(a):"model"};a&&("youtube"===o.host?n().then(()=>l(o)):l(o))})}},e.fn.kallesButtonShowGallery=function(){if(e(this).length){let s=e(".product-images"),i=(e(".sp-single"),e(".p-thumb")),l=i.find(".img_ptw:not(.is_varhide)"),o=n<768&&e(window).height()<768,r=function(t){let s=[],a="";return l.each(function(){let t=e(this),n=t.data("bgset"),i=t.attr("data-width"),l=t.attr("data-height"),o=t.data("cap"),r=t.data("bgset");s.push({src:n,w:i,h:l,title:o}),a+='<div class="pswp_thumb_item"><img class="lazyload" src="data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%20'+i+"%20"+l+'%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3C%2Fsvg%3E" data-src="'+r.replace("1x1","{width}x")+'" data-widths="[50, 100]" data-sizes="auto" alt=""></div>'}),"thumb"===t?a:s},c=function(t){return i.hasClass("flickity-enabled")?i.find(".js-sl-item.is-selected").index():e(t.currentTarget).hasClass("show_btn_pr_gallery")?0:e(t.currentTarget).index()},d=function(){if(!o)return;let t=e(".pswp_tb_active")[0],s=e(".pswp__thumbnails"),a=s[0],n=t.getBoundingClientRect(),i=a.getBoundingClientRect();n.left+n.width>i.width?s.animate({scrollLeft:t.offsetLeft+n.width-i.width+10},200):t.offsetLeft<a.scrollLeft&&s.animate({scrollLeft:t.offsetLeft-10},200)},p=function(t,s){let n=document.querySelectorAll(".pswp")[0];e(".pswp_size_guide").removeClass("pswp_size_guide"),a&&(t=s.length-t-1,s=s.reverse());let l={history:!1,maxSpreadZoom:1,bgOpacity:1,showHideOpacity:i.hasClass("nt_contain")||i.hasClass("nt_cover"),index:t,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"}],getThumbBoundsFn:function(t){let s=e(".p-thumb .p_ptw:visible").eq(t)[0],a=window.pageYOffset||document.documentElement.scrollTop,n=s.getBoundingClientRect();return{x:n.left,y:n.top+a,w:n.width}}},o=new PhotoSwipe(n,PhotoSwipeUI_Default,s,l);o.init(),o.listen("afterChange",function(){let t=o.getCurrentIndex();e(".pswp_tb_active").removeClass("pswp_tb_active"),e(".pswp_thumb_item:eq("+t+")").addClass("pswp_tb_active"),d()}),e(".pswp").off("click").on("click",".pswp_thumb_item",function(){o.goTo(e(this).index())}),o.listen("close",function(){setTimeout(()=>{e(".pswp_pp_prs").removeClass("pswp_pp_prs"),e(".pswp_t4_js").remove("pswp--open")},500),e(".p-thumb.flickity-enabled").flickity("select",o.getCurrentIndex(),!1,!0)})};if(e(this).on("click",".show_btn_pr_gallery",function(s){s.preventDefault(),e(".pswp").remove(),t.append('<div class="pswp pswp_t4_js dn pswp_tp_light pswp_pp_prs" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div><div class="pswp__thumbnails"></div></div>'),l=e(".thumb_2").length>0||e(".thumb_3").length>0?i.find(".js-sl-item:not(.is_varhide) .img_ptw"):i.find(".img_ptw:not(.is_varhide)");let a=r(),n=r("thumb"),o=e(".pswp__thumbnails"),_=i.hasClass("isotope_ok")?e(this).parents().index():c(s);-1===_&&(_=0),p(_,a),o.length>0&&l.length>1&&(o.html(n),e(".pswp_thumb_item:eq("+_+")").addClass("pswp_tb_active"),d())}),s.hasClass("img_action_zoom")&&n>1025){let s=i,a=e(".product-infors"),n=i.find(".img_ptw"),l=e(".dt_img_zoom")[0],o=2,r=2;t.hasClass("zoom_tp_3")&&(o=3),2===o&&(e(".thumb_2").length>0||e(".thumb_3").length>0)&&(o=1,t.removeClass("zoom_tpl_2").addClass("zoom_tpl_1")),n.each(function(){let t=e(this),n=t[0];t.attr("data-width"),t.attr("data-height");new Drift(n,{sourceAttribute:"data-src",paneContainer:2===o?l:n,zoomFactor:r,inlinePane:3===o,hoverBoundingBox:2===o,handleTouch:!1,onShow:function(){s.addClass("zoom_fade_ic"),a.addClass("zoom_fade_if")},onHide:function(){s.removeClass("zoom_fade_ic"),a.removeClass("zoom_fade_if")}})})}}},e.fn.kallesStickyAddToCart=function(){const s=e(".entry-summary .variations_form"),a=e(".sticky_atc_wrap");if(a.length&&s.length&&(n<768||!a.hasClass("mobile_false"))){let a=s.offset().top+s.outerHeight(),n=e(".sticky_atc_wrap, #nt_backtop"),i=e(".popup_slpr_wrap"),l=e("#nt_footer"),o=0,r=l.length>0;const c=function(){let t=e(window).scrollTop(),s=e(window).height(),c=e(document).height();o=r?l.offset().top-l.height():t,t+s===c||a>t||t>o?(n.removeClass("sticky_atc_shown"),i.removeClass("sticky_atc_shown")):a<t&&t+s!==c&&(n.addClass("sticky_atc_shown"),i.addClass("sticky_atc_shown"))};c(),e(window).scroll(c),e(".sticky_atc_a").on("click",function(t){t.preventDefault(),e("html, body").animate({scrollTop:e(".entry-summary").offset().top},800)}),t.on("change",".sticky_atc_wrap .qty",function(){e("#sp_qty_ppr .qty_pr_js").val(e(this).val())}),t.on("change","#sp_qty_ppr .qty_pr_js",function(){e(".sticky_atc_wrap .qty").val(e(this).val())})}},e.fn.kallesStickySingleProductDetail=function(s){if(s&&e(this).length){let s,a=20,n=e(this),i=n.find(".pr_sticky_img"),l=n.find(".pr_sticky_su"),o=i.find(".theiaStickySidebar").outerHeight(),r=l.find(".theiaStickySidebar").outerHeight(),c=0;o>r?(c=o-r,s=l):null==o?(c=r,s=l):(c=r-o,s=i),c>200&&(t.hasClass("header_sticky_true")&&(a=e(".sp_header_mid").outerHeight()+20),s.addClass("is_sticky").theiaStickySidebar({additionalMarginTop:a,additionalMarginBottom:20,minWidth:768}))}},e.fn.kallesProductIsotope=function(t=!0){if(t&&e(this).length){let t=e(this),a=t.data("prmasonry")?t.data("prmasonry"):null;a&&(t.isotope(a).addClass("isotope_ok"),s.on("resize",function(){e(window).width()<768&&t.hasClass("isotope_ok")?t.isotope("destroy").removeClass("isotope_ok"):e(window).width()>=768&&!t.hasClass("isotope_ok")&&t.isotope(a).addClass("isotope_ok")}))}},e.fn.kallesDropdownPicker=function(){e(this).length&&(e(this).on("click",".header_picker, .kalles_dropDown_label",function(t){t.preventDefault(),t.stopPropagation();let s=e(this).closest(".nt_lt_fake , .kalles_dropdown_container");e(s).hasClass("opended")?e(s).removeClass("opended"):(e(s.closest(".dropdown_picker_js")).find(".nt_lt_fake.opended ,.kalles_dropdown_container.opended").removeClass("opended"),e(s).addClass("opended"))}),t.on("click",function(t){e(t.target).hasClass("header_picker")||e(t.target).hasClass("kalles_dropDown_label")||e(".nt_lt_fake.opended,.kalles_dropdown_container.opended").removeClass("opended")}),t.on("click",".kalles_dropdown_option",function(t){t.preventDefault(),t.stopPropagation();let s=e(this);s.data("label")&&(s.closest(".kalles_dropdown_container").find(".kalles_dropDown_label .lbl-title").html(s.data("label")),s.closest(".kalles_dropdown_container").removeClass("opended"))}))},e.fn.kallesInitProduct360Viewer=function(){if(e(this).length){let t,s=e(this),a=e("#threesixty_container_js");a.length&&e(this).magnificPopup({items:{src:"#pr_360_mfp"},type:"inline",tClose:"Close (Esc)",mainClass:"mfp-fade",removalDelay:160,disableOn:!1,preloader:!1,fixedContentPos:!1,callbacks:{beforeOpen:function(){},open:function(){a.hasClass("done")||(t=a.ThreeSixty({totalFrames:s.data("total_frames"),endFrame:s.data("end_frame"),currentFrame:1,framerate:s.data("frame_rate"),autoplayDirection:s.data("auto_play_direction"),imgList:".threesixty_imgs",progress:".spinner",imagePath:s.data("image_path"),filePrefix:s.data("file_prefix"),ext:s.data("ext"),height:s.data("height"),width:s.data("width"),position:"bottom-center",responsive:!0,navigation:!0}),a.addClass("done"))},beforeClose:function(){t.stop(),e(".nav_bar_stop").removeClass("nav_bar_stop").addClass("nav_bar_play")},close:function(){}}})}},e.fn.kallesShopMode=function(){e(this).length&&t.on("click",".cat_view a:not(.active)",function(t){t.preventDefault();let s=e(this),a=s.data("col"),n=s.data("dev"),i=e(".container_cat .nt_pr"),l=e(".container_cat .nt_products_holder"),o=e(".cat_view,.container_cat .nt_products_holder");switch(o.removeClass("on_list_view_false").addClass("on_list_view_true"),"listt4"===a?o.removeClass("on_list_view_false").addClass("on_list_view_true"):o.removeClass("on_list_view_true").addClass("on_list_view_false"),s.closest("div").removeClass("dev_view_cat"),s.addClass("active").siblings().removeClass("active"),n){case"mb":i.removeClass("col-2 col-3 col-4 col-6 col-12 col-15 col-listt4 done").addClass("done col-"+a);break;case"tb":i.removeClass("col-md-2 col-md-3 col-md-4 col-md-6 col-md-12 col-md-15 col-md-listt4 done").addClass("done col-md-"+a);break;default:i.removeClass("col-lg-2 col-lg-3 col-lg-4 col-lg-6 col-lg-12 col-lg-15 col-lg-listt4 done").addClass("done col-lg-"+a)}l.hasClass("js_isotope")&&l.isotope("layout")})},e.fn.KallesInitSidebarFilter=function(){if(e(this).length){let s=e(".clear_filter_js");t.on("click",".js_filter",function(t){t.preventDefault();let s=e(this),a=e(s.data("id"));s.toggleClass("opened"),a.is(":hidden")?a.stop().slideDown(200):a.slideUp(200)}),t.on("click",".nt_filter_block li",function(s){s.preventDefault();let a=e(this),n=a.closest(".nt_filter_block").data("filter_condition");a.hasClass("active")?a.removeClass("active"):(a.addClass("active"),n&&"and"===n||a.siblings(".active").removeClass("active")),t.trigger("change-filter-condition")}),s.length&&(t.on("change-filter-condition",function(){e(".nt_filter_block>li.active").length>0?s.parent().is(":visible")||s.parent().slideDown(300):s.parent().is(":visible")&&s.parent().slideUp(300)}),t.on("click",".clear_filter_js",function(t){t.preventDefault(),e(".nt_filter_block>li.active").removeClass("active"),e(this).parent().slideUp(300)}))}},e.fn.kallesRefreshPriceTitle=function(){if(e(this).length){function t(e,t){return null==e||e!=e?t:e}function s(e,s,a,n){if(s=t(s,2),a=t(a,","),n=t(n,"."),isNaN(e)||null==e)return 0;let i=(e=(e/100).toFixed(s)).split(".");return i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+a)+(i[1]?n+i[1]:"")}function a(e,t){"string"==typeof e&&(e=e.replace(".",""));let a=/\{\{\s*(\w+)\s*\}\}/,n=t||"${{amount}}",i="";switch(n.match(a)[1]){case"amount":i=s(e,2);break;case"amount_no_decimals":i=s(e,0);break;case"amount_with_space_separator":i=s(e,2," ",".");break;case"amount_no_decimals_with_comma_separator":i=s(e,0,",",".");break;case"amount_no_decimals_with_space_separator":i=s(e,0," ");break;case"amount_with_comma_separator":i=s(e,2,".",",")}return n.replace(a,i)}e(this).each(function(){e(this).find(".filter_title_btn").show();let t=e(this).find(".price_slider_wrapper"),s=t.find(".price_slider_amount"),n=s.find(".min_price"),i=s.find(".max_price"),l=(s.find(".url_price").val(),n.data("min")),o=i.data("max"),r=s.data("step")||1,c=n.val(),d=i.val();s.find("input.url_price, input.min_price, input.max_price").hide(),t.find(".price_slider, .price_label ,.price_slider_btn").show();let p=t.find(".price_steps_slider"),_=p[0],u=["span.from","span.to"],h=[".min_price",".max_price"],f=!0;p.length<1||(noUiSlider.create(_,{start:[c,d],connect:!0,step:r,range:{min:l,max:o}}),_.noUiSlider.on("update",function(n,i){let l=parseInt(n[i],10);t.find(u[i]).html(a(l)),s.find(h[i]).val(l),f&&(!function(t){e("[data-js-minprice]").html(a(parseInt(t[0],10))),e("[data-js-maxprice]").html(a(parseInt(t[1],10)))}(n),f=!1)}))})}},e.fn.KallesGalleryPhotoSwipe=function(){if(e(this).length){let s=function(e,t){let s=document.querySelectorAll(".pswp")[0];a&&(e=t.length-e-1,t=t.reverse()),new PhotoSwipe(s,PhotoSwipeUI_Default,t,{history:!1,maxSpreadZoom:2,showHideOpacity:!0,fullscreenEl:!1,shareEl:!1,counterEl:!1,bgOpacity:1,index:e,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"}]}).init()},n=function(t){let s=[];return t.find("a").each(function(){s.push({src:e(this).attr("data-src"),w:e(this).attr("data-w"),h:e(this).attr("data-h")})}),s};e(document).on("click",".nt_gallery_item a",function(a){a.preventDefault(),e(".pswp").remove(),t.append('<div class="pswp pswp_t4_js dn pswp_tp_light pswp_pp_prs" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div><div class="pswp__thumbnails"></div></div>');let i=e(this).parents(),l=e(this).closest(".type_gallery"),o=i.index(),r=n(l);s(o,r)})}},e.fn.kallesDiscountPromotionPopup=function(){const t=Modernizr.hovermq;if(0===e(this).length||n<1025||!t||"confirmed"!==Cookies.get("kalles_age_verify")&&e(".popup_age_wrap").length>0||"shown"===Cookies.get("kalles_prpr_pp"));else{let t=e(this).find(".popup_prpr_wrap"),s=t.find(".js_carousel"),a=t.data("stt"),n=function(){e.magnificPopup.open({items:{src:"#kalles-section-promo_pr_pp .popup_prpr_wrap"},type:"inline",removalDelay:500,tClose:"Close (Esc)",callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-horizontal prpr_pp_wrapper"},open:function(){s.kallesRefresh_flickity(),s.kallesFlickityResponsive(!1),t.find(".pr_coun_dt:not(.done_cd) , .sepr_coun_dt:not(.done_cd)").initCountdown(),e(document).off("mouseleave.registerexit")},close:function(){Cookies.set("kalles_prpr_pp","shown",{expires:a.day_next,path:"/"})}}})};e(".kalles_open_promopr").on("click",function(e){e.preventDefault(),n()}),t.on("open_promopr",function(){n()}),e(document).on("mouseleave.registerexit",function(t){t.clientY<60&&0===e(".mfp-content").length&&n()})}},e.fn.kallesLoadQuickView=function(){const s=e(this),a=e("#quick-view-tpl"),n=a.length?a.html():null;n.length?e.magnificPopup.open({items:{src:'<div class="mfp-with-anim popup-quick-view" id="content_quickview">'+n+"</div>",type:"inline"},tClose:"Close (Esc)",removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-horizontal"},open:function(){e(".nt_carousel_qv").flickity(JSON.parse('{ "fade":true,"cellSelector": ".q-item:not(.is_varhide)","cellAlign": "center","wrapAround":true,"autoPlay": true,"prevNextButtons":true,"adaptiveHeight": true,"imagesLoaded": false, "lazyLoad": 0,"dragThreshold" : 0,"pageDots": true,"rightToLeft": false }')),t.addClass("open_ntqv"),e(".kalles_swatch_js").kallesSwatches(),e("#callBackVariant_qv .single_add_to_cart_button").kallesAnimation(),e("#nt_countdow_qv").initCountdown_pr(),s.removeClass("loading"),e(".dropdown_picker_js").kallesDropdownPicker()},close:function(){e("#content_quickview").empty(),t.removeClass("open_ntqv"),e(".dropdown_picker_js").kallesDropdownPicker()}}}):s.removeClass("loading")},e.fn.kallesLoadQuikShop=function(){const s=e(this),a=e("#quick-shop-tpl"),n=a.length?a.html():null;n.length?e.magnificPopup.open({items:{src:'<div class="mfp-with-anim pp_qs" id="content_quickview">'+n+"</div>",type:"inline"},tClose:"Close (Esc)",removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-vertical"},open:function(){t.addClass("open_ntqs"),s.removeClass("loading");const a=e(".nt_carousel_qs"),n=a.attr("data-flickity")||"{}";a.flickity(JSON.parse(n)),e(".kalles_swatch_js").kallesSwatches(),e(".dropdown_picker_js").kallesDropdownPicker()},close:function(){e(".clicked_ed_js").removeClass("clicked_ed_js"),e("#content_quickview").empty(),t.removeClass("open_ntqs"),e(".dropdown_picker_js").kallesDropdownPicker()}}}):s.removeClass("loading")},e.fn.kallesPaymentMethodDropdown=function(){e(this).length&&e(this).on("change",function(){e(this).closest(".payment_methods").find(".payment_box").slideUp(300),e(this).closest(".payment_method").find(".payment_box").slideDown(300)})},n>=1024&&(t.on("click",".pin_tt_js",function(t){t.preventDefault(),t.stopPropagation();var s=0,a=e(this).parent(".pin__type");if(a.hasClass("pin__opened")&&(s=1),e(".pin__type.pin__opened").removeClass("pin__opened"),e(".pin__slider.pin_slider_opened").removeClass("pin_slider_opened"),!s){var n=e(this).closest(".kalles-section");if(a.addClass("pin__opened"),n.find(".pin__slider").addClass("pin_slider_opened"),!a.hasClass("has_calc_pos")){var i=a.offset(),l=a.find(".pin__popup"),o=a.find(".pin_lazy_js");0===o.length&&(o=l);var r=l.width()+20;if(o.hasClass("pin__popup--left")){if(i.left<r){var c=r-i.left+10;l.css("margin-right","-"+c+"px")}}else if(o.hasClass("pin__popup--right")){var d=e(window).width()-i.left-a.width();if(d<r){var p=r-d+10;l.css("margin-left","-"+p+"px")}}a.addClass("has_calc_pos")}}}),t.on("click",function(t){let s=e(t.target);s.closest(".pin__type").length>0||s.closest(".mfp-wrap").length>0||(e(".pin__type.pin__opened").removeClass("pin__opened"),e(".pin__slider.pin_slider_opened").removeClass("pin_slider_opened"))})),t.on("click","[data-opennt]",function(s){var a=e(s.currentTarget),n=a.data(),i=n.opennt,l=n.color,r=n.bg,c=n.pos,d=n.ani||"has_ntcanvas",p=n.remove,_=n.class,u=n.close||!1,h=n.focuslast||!1,f=a.attr("data-focus"),m=window.pageYOffset;window.height,e("#kalles-section-header_banner").outerHeight(),e(".ntheader_wrapper").outerHeight();a.addClass("current_clicked"),e.magnificPopup.open({items:{src:i,type:"inline",tLoading:'<div class="loading-spin dark"></div>'},tClose:"Close (Esc)",removalDelay:300,closeBtnInside:u,focus:f,autoFocusLast:h,callbacks:{beforeOpen:function(){this.st.mainClass=d+" "+l+" "+d+"_"+c},open:function(){o.addClass(d),o.addClass(d+"_"+c),_&&e(".mfp-content").addClass(_),r&&e(".mfp-bg").addClass(r),t.on("click",".close_pp",function(t){t.preventDefault(),e.magnificPopup.close()}),m&&e("html, body").scrollTop(m)},beforeClose:function(){o.removeClass(d)},afterClose:function(){o.removeClass(d+"_"+c),e(".current_clicked").removeClass("current_clicked"),p&&e(i).removeClass("mfp-hide")}}}),s.preventDefault()}),e("#kalles-section-header_banner").hTransparent(),t.initStickyMenu(),e(".js_kl__countdown").bannerCountdown(),t.on("click",".push_side",function(s){const a=e(this),n=a.data("id"),i=e(n);0!==i.length&&(s.preventDefault(),e(t).hasClass("pside_opened")&&e(t).closeMenu(),a.openMenu(i))}),t.on("click touchstart",".mask-overlay",function(t){e(this).closeMenu()}),t.on("click",".act_opened .close_pp",function(){e(this).closeMenu()}),t.on("click",".js_addtc , .single_add_to_cart_button",function(s){s.preventDefault(),s.stopPropagation();let a=e("#nt_cart_canvas"),n=e(this);0!==a.length&&(n.addClass("loading"),e.magnificPopup&&e.magnificPopup.instance.isOpen&&e.magnificPopup.close(),e(t).hasClass("pside_opened")&&e(t).closeMenu(),t.hasClass("cart_pos_dropdown")?setTimeout(()=>{e("html, body").animate({scrollTop:0},"slow",()=>{a.addClass("current_hover"),n.removeClass("loading")})},500):setTimeout(()=>{n.openMenu(a),n.removeClass("loading")},500))}),t.on("click",".nt_add_w",function(t){t.preventDefault(),t.stopPropagation();let s=e(this),a=s.find(".wishlistadd");a.addClass("loading"),setTimeout(()=>{a.removeClass("loading"),s.toggleClass("wis_added")},500)}),e("#nt_backtop").kallesBackToTop(),e(".pr_coun_dt:not(.done_cd)").initCountdown(),e(".sepr_coun_dt:not(.done_cd)").initSeCountdown(),t.on("click","button.plus , a.plus , button.minus , a.minus",function(t){t.preventDefault(),t.stopPropagation();const s=e(this).closest(".quantity").find(".qty_cart_js,.qty_pr_js");if(s){let t=s.val()?parseInt(s.val(),10):0,a=s.data("max")||100,n=s.data("min")||0,i=s.data("step")||1;t=e(this).hasClass("plus")?t+i<=a?t+i:a:t-i>=n?t-i:n,s.val(t).trigger("change")}}),t.on("click",".js_cart_tls",function(t){t.preventDefault(),clearTimeout(c);let s=e(this).data("id");d.addClass("ld_nt_cl ld_cart_tls"),e(".mini_cart_"+s).addClass("is_nt_op"),"note"===s?c=setTimeout(function(){e("#CartSpecialInstructions").focus()},500):"dis"===s&&(c=setTimeout(function(){e("#Cartdiscode").focus()},500))}),t.on("click",".js_cart_tls_back",function(t){t.preventDefault(),clearTimeout(c),d.removeClass("ld_nt_cl ld_cart_tls"),e(".is_nt_op").removeClass("is_nt_op")}),t.on("click",".js_add_qv , .js__qs",function(t){t.preventDefault(),t.stopPropagation();let s=e(this),a=1e3;s.addClass("loading"),e.magnificPopup.instance.isOpen&&(e.magnificPopup.close(),a=e.magnificPopup.instance.st.removalDelay+10),setTimeout(function(){s.hasClass("js__qs")?s.kallesLoadQuikShop():s.kallesLoadQuickView()},a)}),e(".r--reply-form-wrapper").length){const s=e=>{e.find(".r--reply-items").addClass("d-none"),e.find(".r--comment-form-wrap").removeClass("d-none"),e.find(".r--reply-button").addClass("d-none")},a=e=>{e.find(".r--reply-items").removeClass("d-none"),e.find(".r--comment-form-wrap").addClass("d-none"),e.find(".r--reply-button").removeClass("d-none")};t.on("click",".btn_control_reply_comment",function(t){return t.preventDefault(),t.stopPropagation(),e(this).hasClass("reply-comment--on")?s(e(this).closest(".r--reply-form-wrapper")):a(e(this).closest(".r--reply-form-wrapper"))})}if(e("#nt_login_canvas").linkAcc(),e(".dt_trigger_cl").linkTrigger(),e("#nt_menu_canvas , #nav_header7").kallesMobileNav(),e(".lazy_menu:not(.calc_pos)").kallesLazyMenu(),e("ul.tab_cat_title li a").catTabs(),t.on("click",".nt_swatch_on_bg:not(.current-swatch)",function(){r&&e(this).swatchesOnBGGrid()}),r||t.hoverIntent({selector:".nt_swatch_on_bg",sensitivity:6,interval:100,timeout:100,over:function(t){e(this).swatchesOnBGGrid()},out:function(){}}),e(".vid_nt_js").initHTMLVideo(),e(".nt_parallax_true").parallax(),i&&e(".footer_collapse_true").length&&e(".footer_collapse_true .widget-title").off("click").on("click",function(){let t=e(this).parent(),s=t.find("> .widget_footer");t.hasClass("footer_opened")?(t.removeClass("footer_opened"),s.stop().slideUp(200)):(t.addClass("footer_opened"),s.stop().slideDown(200))}),0===e(".footer_sticky_true").length)e("#nt_content").css({marginBottom:0});else if(s.width()>1024){let a=e("#nt_footer"),n=e("#nt_content");e(".kalles_prefooter").length>0&&(n=e(".kalles_prefooter"));const i=()=>{n.css({marginBottom:a.outerHeight()})};if(s.on("resize",i),i(),t.addClass("calc_footer_sticky"),o.hasClass("browser-Safari")){const t=function(){let t=s.scrollTop();e(document).outerHeight()-a.outerHeight()<t+a.outerHeight()+s.outerHeight()?a.addClass("visible_footer"):a.removeClass("visible_footer")};t(),s.on("scroll",t)}}if(t.hasClass("cart_pos_dropdown")&&!r&&!t.hasClass("template-cart")){let a=e("#nt_cart_canvas"),n=e(".cart_pos_dropdown .icon_cart"),i=60,l=s.height(),o=s.width(),r=n.offset().top,c=o-(n.offset().left+n.outerWidth()),d=(n.outerHeight(),r+40);a.css({position:"absolute",top:d,right:c}),r<l&&(i=100-(r+40)/(l/100)),n.hoverIntent({sensitivity:6,interval:100,timeout:100,over:function(e){d=n.offset().top+40,t.addClass("oped_dropdown_cart"),a.css("top",d).addClass("current_hover")},out:function(){a.is(":hover")||(t.removeClass("oped_dropdown_cart"),a.removeClass("current_hover"))}}),a.on("mouseleave",function(){t.removeClass("oped_dropdown_cart"),a.removeClass("current_hover")})}e(".sp-tabs .tab-heading").length&&e(document).on("click",".sp-tabs .tab-heading",function(t){t.preventDefault();let s=e(this),a=s.closest(".sp-tab"),n=s.closest(".sp-tabs"),i=s.closest(".nt_section");0===i.length&&(i=s.closest(".kalles-section")),a.addClass("clicked_accordion"),a.hasClass("active")?(a.removeClass("active"),a.find(".sp-tab-content").slideUp(300)):(n.find(".sp-tab").removeClass("active"),a.addClass("active"),n.find(".sp-tab-content").slideUp(150),a.find(".sp-tab-content").stop(!0,!0).slideDown(300),setTimeout(function(){if(a.find(".sp-tab-content .js_packery").packery("layout"),!((t,s,a,n,i)=>{if(!(t.length<1)){n=n||"both";var l=e(window),o=t.length>1?t.eq(0):t,r=null!=i,c=r?e(i):l,d=r?c.position():0,p=o.get(0),_=c.outerWidth(),u=c.outerHeight(),h=!0!==a||p.offsetWidth*p.offsetHeight;if("function"==typeof p.getBoundingClientRect){var f=p.getBoundingClientRect(),m=r?f.top-d.top>=0&&f.top<u+d.top:f.top>=0&&f.top<u,v=r?f.bottom-d.top>0&&f.bottom<=u+d.top:f.bottom>0&&f.bottom<=u,w=r?f.left-d.left>=0&&f.left<_+d.left:f.left>=0&&f.left<_,g=r?f.right-d.left>0&&f.right<_+d.left:f.right>0&&f.right<=_,k=s?m||v:m&&v,b=s?w||g:w&&g;if(k=f.top<0&&f.bottom>u||k,b=f.left<0&&f.right>_||b,"both"===n)return h&&k&&b;if("vertical"===n)return h&&k;if("horizontal"===n)return h&&b}else{var C=r?0:d,y=C+u,T=c.scrollLeft(),D=T+_,x=o.position(),S=x.top,P=S+o.height(),j=x.left,z=j+o.width(),M=!0===s?P:S,E=!0===s?S:P,I=!0===s?z:j,B=!0===s?j:z;if("both"===n)return!!h&&E<=y&&M>=C&&B<=D&&I>=T;if("vertical"===n)return!!h&&E<=y&&M>=C;if("horizontal"===n)return!!h&&B<=D&&I>=T}}})(n.find(".sp-tab.active .js_ck_view"),!0)){var t=e(".ntheader.live_stuck .sp_header_mid").height()||0,s=i.find(".sp-tab.active").offset().top-t-10;e("body,html").animate({scrollTop:s})}},200))}),e(".popup_new_wrap").newsletterPopup(),e(".popup_age_wrap").KallesAgeVerify(),e(".popup_cookies_wrap").cookiesLawAnnouncements(),e(".kalles_swatch_js").kallesSwatches(),e.fn.kallesStickyAddToCart(),setTimeout(()=>e(".flickity-enabled").kallesDisableNavSlider(),3e3),e(".sp-single").kallesButtonShowGallery(),e(".kalles-section-pr_summary .single_add_to_cart_button , .sticky_atc_btn .single_add_to_cart_button").kallesAnimation(),e(".pr_flash_sold").kallesFlashSold(),e("#btn_mfp_360").kallesInitProduct360Viewer(),t.on("click",".ajax_pp_js",function(t){t.preventDefault(),t.stopPropagation();const s=e(this).data("id"),a=void 0!==s?e(s).html():null;a&&e.magnificPopup.open({items:{src:a,type:"inline"},removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-horizontal"}}})}),t.on("click",".ul_tabs>.tab_title_block>a",function(t){t.preventDefault();const s=e(this),a=s.closest(".sp-tabs");a.find(".tab_title_block").removeClass("active"),s.closest("li").addClass("active").addClass("active"),a.find(".sp-tab.panel").hide().removeClass("active"),a.find(s.attr("href")).show().addClass("active")}),e("#wrap_fbt").length&&t.on("change",".js_fbt_ck",function(){let t=e(this),s=t.closest(".kl_fbt_li");t.is(":checked")?(s.length&&(s.addClass("kl_fbt_checked"),s.find(".js_fbt_sl").prop("disabled",!1)),s.data("sl")&&s.closest(".kl_fbt_wrap").find(s.data("sl")).fadeIn(300)):(s.length&&(s.removeClass("kl_fbt_checked"),s.find(".js_fbt_sl").prop("disabled",!0)),s.data("sl")&&s.closest(".kl_fbt_wrap").find(s.data("sl")).fadeOut(300))}),e("[data-featured-product-se]").kallesInitFeaturedProduct(),setTimeout(()=>e(".kalles_product_thumnb_slide").kallesSingleProductThumbnail(),100),e(".pr_sticky_content").kallesStickySingleProductDetail(!i&&t.hasClass("single-product-template")),e(".p-thumb.only_owl_mb").kallesProductIsotope(!i),e("#nt_countdow_ppr").initCountdown_pr(),e(".dropdown_picker_js,.kalles_dropdown").kallesDropdownPicker(),e(".cat_view").kallesShopMode(),e(".js_filter").KallesInitSidebarFilter(),e(".filter_area_js, .js_sidebar").kallesRefreshPriceTitle(),e(".nt_cat_lm:not(.jscl_ld)").on("click",function(t){t.preventDefault();let s=e(this);s.addClass("jscl_ld"),setTimeout(()=>s.removeClass("jscl_ld"),2e3)}),e(".nt_gallery_item").KallesGalleryPhotoSwipe(),e("#kalles-section-promo_pr_pp").kallesDiscountPromotionPopup(),setTimeout(()=>{e(".prs_bordered_grid_3 .product-extra [data-flickityjs]").each(function(){const t=e(this).data("flickityjs");if(t){const s=t.selectedCells?t.selectedCells.length:null,a=t.cells?t.cells.length:null;s&&a&&s===a?e(this).addClass("flickity_prev_disable flickity_next_disable"):e(this).removeClass("flickity_prev_disable flickity_next_disable"),e(this).flickity(t)}})},1e3),e(".payment_methods input[name=payment_method]").kallesPaymentMethodDropdown(),t.on("click",".rating_sp_kl",function(t){if("#tab_reviews_product"===e(this).attr("href")){t.preventDefault(),t.stopPropagation();let s=e('.ul_tabs a[href="#tab_reviews_product"]');s.length&&(s.trigger("click"),e("html, body").animate({scrollTop:e("#tab_reviews_product").offset().top},1e3))}}),d.on("click",".cart_ac_remove",function(t){t.preventDefault(),t.stopPropagation();let s=e(this).closest(".mini_cart_item"),a=s.find(".ld_cart_bar");d.addClass("ld_nt_cl"),a.length?(a.addClass("on_star"),setTimeout(()=>{a.addClass("on_end"),s.slideUp(300,"swing",function(){e(this).remove(),d.find(".mini_cart_item").length||(d.find(".mini_cart_items , .mini_cart_tool").remove(),d.find(".empty.tc").show(300,"swing",function(){e(this).removeClass("dn")})),console.log(d.find(".mini_cart_item").length)}),d.removeClass("ld_nt_cl")},1e3)):setTimeout(()=>{s.slideUp(300,"swing",function(){e(this).remove(),d.find(".mini_cart_item").length||(d.find(".mini_cart_items , .mini_cart_tool").remove(),d.find(".empty.tc").show(300,"swing",function(){e(this).removeClass("dn")}))}),d.removeClass("ld_nt_cl")},1e3)}),t.on("click",".wis_remove",function(){let t=e(this).closest(".product");t.addClass("kalles-hidden-product"),setTimeout(()=>t.remove(),500)}),t.on("click",".btn-change-login-form",function(t){let s=e(this),a=s.attr("href");a&&(t.preventDefault(),s.closest(".kalles-wrap-form").addClass("dn"),e(a).removeClass("dn"))}),e(window).resize(function(t){e(window).width()>767&&e(".calc_pos .lazy_menu").kallesInitMegaMenu(),setTimeout(()=>e(".flickity-enabled").kallesDisableNavSlider(),3e3)})}(window.jQuery),$(document).ready(function(){$("#mobile_live_search").keyup(function(){var e=$(this).val();""!=e&&$.ajax({url:"/index/newarama/",method:"POST",data:{query:e},success:function(e){$("#mobile_search_result").html(e)}})})});